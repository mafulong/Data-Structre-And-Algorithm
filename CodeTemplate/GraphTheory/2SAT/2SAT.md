## 2SAT算法

SAT问题是给定`N`个集合，每个集合哟$s_i$个元素。其中还会给出集合之间的元素的约束关系。

比如，选了第一个集合中的元素$a_1$，则必定要选择第二个集合中的元素$b_2$。

2SAT问题是每个约束条件都只涉及到两个变量。通用的形式是

$a \or b$表示$a$命题成立或者$b$命题成立。其等价于$a$不成立的时候$b$必然成立，$b$不成立的时候$a$必然成立。

具体的做法是，将这种关系转为边。

对于每个变量的两种选择方法$a$、$a'$，其中$a$表示$a$取真，另一个表示$a$取假。对每种可能的取值情况看做图中的一个节点，然后上述的依赖关系看做节点之间的边。

比如$a$成立则$b$必然成立，则可以在节点$a$和$b$之间连接一个有向边。表示如果选择了$a$这个节点，则必然要选择$b$这个节点。

由于原命题和逆否命题是成对出现的，所以如果图中存在一个$a \to b$的边，则必然也存在着一条$a' \to b'$的边。

在对所有的约束建完边之后，对整个图利用tarjan算法缩点之后得到拓扑序。

问题不存在解等价于：存在一对点$a$和$a'$在同一个联通分量内。也就是说要$a$成立则$a’$一定成立，且$a'$成立，$a$也一定成立。这显然是不可能存在的情况。

如果不存在上述的情况，则对于每个命题的两种选择，我们去其在拓扑序后面的那个节点即可。在tarjan算法缩点的过程中，节点的编号为拓扑序逆序，所以对于成对的点，输出节点编号较小的代表的情况即可。

[代码模板](2SAT.cpp)